# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –ø–ª–µ–π–ª–∏—Å—Ç—ã –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –ø–æ —Å—Å—ã–ª–∫–µ

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö–†–ò–¢–ò–ß–ù–û  
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–æ–≤ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ `not-found` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `users_playlists(pid)` –±–µ–∑ owner.

### –°–∏–º–ø—Ç–æ–º—ã

–í –ª–æ–≥–∞—Ö:
```
2025-12-04 19:24:42,275 - yandex_music.client - DEBUG - Entering: users_playlists
2025-12-04 19:24:42,405 - services.yandex_service - DEBUG - users_playlists(pid) failed: {'name': 'not-found', 'message': 'Requested action for /users/1191376640/playlists/5cf4b069-b6ea-4558-a94e-6a44521b495d was not found'}
```

–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç 5cf4b069-b6ea-4558-a94e-6a44521b495d
üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å—Å—ã–ª–∫–∏.
```

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–æ–≤ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ:
1. –°—Å—ã–ª–∫–∞ –ø–∞—Ä—Å–∏—Ç—Å—è —á–µ—Ä–µ–∑ `parse_playlist_link()`
2. –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `https://music.yandex.ru/playlists/{uuid}`, owner –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `None`)
3. –í `YandexService.get_playlist()` —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å `users_playlists(pid, owner)`, –Ω–æ owner = None, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
4. –ó–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `users_playlists(pid)` –±–µ–∑ owner, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ `not-found`

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **API —Ç—Ä–µ–±—É–µ—Ç owner –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤**: –î–ª—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å UUID –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–∫–∞–∑–∞–Ω–∏–µ owner –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `users_playlists`
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫**: –°—Å—ã–ª–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ `https://music.yandex.ru/playlists/{uuid}` –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç owner –≤ URL, –Ω–æ API –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –µ–≥–æ
3. **–§–æ—Ä–º–∞—Ç ID –ø–ª–µ–π–ª–∏—Å—Ç–∞**: UUID –ø–ª–µ–π–ª–∏—Å—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç API `users_playlists` (–º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è `kind` –≤–º–µ—Å—Ç–æ UUID)
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å—Å—ã–ª–æ–∫**: API –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

## –ó–∞–¥–∞—á–∏

- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É API `users_playlists` —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ ID –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ owner –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ UUID
- [x] –ò–∑—É—á–∏—Ç—å, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å owner –∏–∑ UUID –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å—Å—ã–ª–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞
- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ UUID
- [ ] –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è owner, –µ—Å–ª–∏ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç.–∫. —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω fallback)
- [x] –£–ª—É—á—à–∏—Ç—å –º–µ—Ç–æ–¥ `YandexService.get_playlist()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ ID
- [x] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ —Å—Å—ã–ª–æ–∫

## –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

### –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

1. **–§–æ—Ä–º–∞—Ç ID –ø–ª–µ–π–ª–∏—Å—Ç–∞ –≤ API**:
   - –ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç ID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `users_playlists`? (kind, UUID, –∏–ª–∏ –æ–±–∞?)
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ owner –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ UUID?
   - –ú–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—É—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç –ø–æ UUID –±–µ–∑ owner?

2. **–§–æ—Ä–º–∞—Ç—ã —Å—Å—ã–ª–æ–∫ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏**:
   - –ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å—Å—ã–ª–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?
   - `https://music.yandex.ru/users/{owner}/playlists/{kind}` - —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç
   - `https://music.yandex.ru/playlists/{uuid}` - –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
   - –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã?

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ owner –∏–∑ UUID**:
   - –ú–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—É—á–∏—Ç—å owner –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ UUID —á–µ—Ä–µ–∑ API?
   - –ï—Å—Ç—å –ª–∏ –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–ª–µ–π–ª–∏—Å—Ç–µ –ø–æ UUID?
   - –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞?

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –ö–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `users_playlists`?
   - –ö–∞–∫ —Ä–∞–∑–ª–∏—á–∞—Ç—å "–ø–ª–µ–π–ª–∏—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω" –∏ "–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤"?
   - –ù—É–∂–Ω–æ –ª–∏ –ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–∑–æ–≤–∞ API?

### –ü–ª–∞–Ω –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

1. –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `yandex-music` –∏ API –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ UUID
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–∑–æ–≤–∞ `users_playlists`:
   - `users_playlists(uuid)` –±–µ–∑ owner
   - `users_playlists(uuid, owner)` —Å owner
   - `users_playlists(kind, owner)` —Å kind –∏ owner
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—É—á–∏—Ç—å owner –∏–∑ UUID —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã API
5. –ò–∑—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –≤ –∫–æ–¥–µ –ø—Ä–æ–µ–∫—Ç–∞

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–ª—É—á—à–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Å—ã–ª–æ–∫
- –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `https://music.yandex.ru/playlists/{uuid}`, –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å owner —á–µ—Ä–µ–∑ API
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å mapping UUID -> owner –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `get_playlist`
- –ï—Å–ª–∏ owner –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:
  - –°–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `users_playlists(uuid)` –±–µ–∑ owner
  - –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞–π—Ç–∏ owner —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã API
  - –ï—Å–ª–∏ owner –Ω–∞–π–¥–µ–Ω, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `users_playlists(uuid, owner)`

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ API
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –ø–æ UUID
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç owner

#### –í–∞—Ä–∏–∞–Ω—Ç 4: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –£–ª—É—á—à–∏—Ç—å –º–µ—Ç–æ–¥ `get_playlist` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –î–æ–±–∞–≤–∏—Ç—å fallback-–º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞

### –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–£–ª—É—á—à–µ–Ω–∏–µ `parse_playlist_link`**:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –∏–∑–≤–ª–µ—á—å owner –∏–∑ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π —Å—Å—ã–ª–∫–∏
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å—Å—ã–ª–æ–∫

2. **–£–ª—É—á—à–µ–Ω–∏–µ `YandexService.get_playlist`**:
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ ID (UUID vs kind)
   - –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å owner, –µ—Å–ª–∏ –æ–Ω –Ω–µ —É–∫–∞–∑–∞–Ω
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≤—ã–∑–æ–≤–∞ API
   - –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –†–∞–∑–ª–∏—á–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ (not-found, forbidden, etc.)
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `services/link_parser.py` - —Ñ—É–Ω–∫—Ü–∏—è `parse_playlist_link`
- `services/yandex_service.py` - –º–µ—Ç–æ–¥ `get_playlist`
- `handlers/messages.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `add_command` (—Å—Ç—Ä–æ–∫–∏ 186-218)

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `YandexService.get_playlist()`

–ú–µ—Ç–æ–¥ `get_playlist()` –±—ã–ª —É–ª—É—á—à–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ UUID –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –±–µ–∑ owner:

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ ID**: –ú–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `playlist_id` UUID (—Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ñ–∏—Å—ã –∏ –¥–ª–∏–Ω–Ω–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤)

2. **–ü–∞—Ä—Å–∏–Ω–≥ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è owner –∏ kind**: 
   - –ï—Å–ª–∏ owner –Ω–µ —É–∫–∞–∑–∞–Ω –∏ `playlist_id` —è–≤–ª—è–µ—Ç—Å—è UUID, –º–µ—Ç–æ–¥ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ `https://music.yandex.ru/playlists/{uuid}`
   - –ü–∞—Ä—Å–∏—Ç HTML –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç `uid` (owner) –∏ `kind` –ø–ª–µ–π–ª–∏—Å—Ç–∞ –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ `"uid": "—á–∏—Å–ª–æ"` –∏ `"kind": "—á–∏—Å–ª–æ"` –≤ HTML
   - –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ —á–µ—Ä–µ–∑ API `users_playlists(kind, owner)`

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: 
   - –†–∞–∑–ª–∏—á–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ (not-found, forbidden, etc.)
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –ï—Å–ª–∏ owner –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ HTML, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

4. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ø—ã—Ç–æ–∫**:
   - –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º owner (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ï—Å–ª–∏ owner –Ω–µ —É–∫–∞–∑–∞–Ω –∏ —ç—Ç–æ UUID, –ø–∞—Ä—Å–∏—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è owner –∏ kind
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ owner –∏ kind –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ —á–µ—Ä–µ–∑ API
   - –ï—Å–ª–∏ owner –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ HTML, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
   - –î–ª—è kind –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –ø—Ä–æ–±—É–µ—Ç –±–µ–∑ owner (–µ—Å–ª–∏ owner –Ω–µ —É–∫–∞–∑–∞–Ω)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `requests` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ü–∞—Ä—Å–∏–Ω–≥ HTML –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ü–æ–∏—Å–∫ `uid` –∏ `kind` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º `"uid": "—á–∏—Å–ª–æ"` –∏ `"kind": "—á–∏—Å–ª–æ"`
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω `kind`, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ UUID –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ API (API —Ç—Ä–µ–±—É–µ—Ç kind, –∞ –Ω–µ UUID)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è owner –∑–∞—Ä–∞–Ω–µ–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ HTML
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å—Å—ã–ª–æ–∫: —Å owner –∏ –±–µ–∑ owner

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- UUID –ø–ª–µ–π–ª–∏—Å—Ç–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç `kind` –ø–ª–µ–π–ª–∏—Å—Ç–∞
- API —Ç—Ä–µ–±—É–µ—Ç owner –∏ kind –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–Ω–µ UUID)
- –†–µ—à–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç owner –∏ kind –∏–∑ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–ª–µ–π–ª–∏—Å—Ç–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ï—Å–ª–∏ –ø–ª–µ–π–ª–∏—Å—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞: `https://music.yandex.ru/users/{owner}/playlists/{kind}`
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

